@startuml

class GameEngineGraphical {
void run()
}


class Game {
int niveauActuel
int score
void chargerNiveau()
void evolve(Cmd userCmd)
boolean isFinished()
}

interface IGamePainter {
void draw(BufferedImage image)
}

interface IGameController{
Cmd getCommand()
}

enum Cmd {
LEFT,RIGHT,UP,DOWN,IDLE
}

class Niveau {
int long, larg
float tempsInitial
float tempsRestant
void Niveau()
void deplacerJoueur(Cmd direction)
boolean estTermine()
void afficher()
}

class GameObject {
int posX, posY
void update(double dt)
void addComponent(Component component)
}

class GameObjectFactory {

}

abstract class Component{
void update(double dt)
}

class PlayerInputComponent{
void update(double dt)
}

class MovementComponent{
float velocity
void update(double dt)
}

abstract class GraphicsComponent{
Shape shape
Color color
void update(double dt)
}

class RectangleComponent{
float width, height
void update(double dt)
}

class CircleComponent{
float radius
void update(double dt)
}

Niveau -- "*"GameObject

GameEngineGraphical -- "1"Game
GameEngineGraphical -- "1"IGamePainter
GameEngineGraphical -- "1"IGameController 
Game -- "1"Niveau

GameObject "1"--"*"Component
GameObjectFactory -- "1"GameObjectFactory

Component <|-- GraphicsComponent
Component <|-- PlayerInputComponent
Component <|-- MovementComponent

IGameController "1"-- PlayerInputComponent
IGamePainter "1"-- GraphicsComponent 

GraphicsComponent <|-- RectangleComponent
GraphicsComponent <|-- CircleComponent

@enduml
